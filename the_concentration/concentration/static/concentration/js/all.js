document.addEventListener("DOMContentLoaded",()=>{updateCardHeight(),updateCardHeight(),addCardClickListener()}),window.addEventListener("resize",()=>{updateCardHeight()});const addCardClickListener=(()=>{let e=null,t=null,n=null,s=!1,a=0,l=0,o=null;const d=()=>{if(!o){const e=document.getElementById("timerDisplay");o=new Timer(e),o.start(),displayResetButton("show")}},i=()=>{s=!0,setTimeout(()=>{t.classList.remove("rotate-y-180"),n.classList.remove("rotate-y-180"),n=null,s=!1},600)},r=()=>{o&&o.stop();const e=document.getElementById("timerDisplay"),t=e.parentElement,n=document.createElement("div");n.classList.add("absolute","pr-20","blink"),n.innerHTML="&#127882;",t.append(n),e.classList.add("blink")};return()=>{if(cardImgs=document.getElementsByClassName("card-img"),a||(a=cardImgs.length),!l)for(e of cardImgs){e.parentElement.parentElement.classList.contains("rotate-y-180")&&(l+=1)}if(l===a)r();else{"00:00"!==document.getElementById("timerDisplay").innerText&&d()}for(e of cardImgs)e.addEventListener("click",o=>{s||(d(),e=o.target,t=e.parentElement.parentElement,t.classList.add("rotate-y-180"),n?n.getAttribute("data-value")===t.getAttribute("data-value")?(n=null,l+=2,l===a&&r()):i():n=t)})}})(),updateCardHeight=()=>{for(cardImg of(cardImgs=document.getElementsByClassName("card-img"),cardImgs)){const e=cardImg.parentElement.parentElement,t=e.offsetWidth;e.setAttribute("style",`height: ${Math.ceil(1.4*t)}px;`)}},toggleNav=()=>{const e=document.getElementById("nav").classList;e.contains("opacity-0")?(e.replace("pointer-events-none","pointer-events-auto"),e.replace("opacity-0","opacity-100")):e.contains("opacity-100")&&(e.replace("opacity-100","opacity-0"),e.replace("pointer-events-auto","pointer-events-none"))},displayResetButton=e=>{const t=document.getElementById("reset-button");"show"===e?t.classList.replace("opacity-0","opacity-100"):"hide"===e&&t.classList.replace("opacity-100","opacity-0")},displayResetModal=(e,t,n)=>{const s=document.getElementById("reset-modal");if("show"===e){document.getElementById("reset-modal-text").innerText=t,s.classList.remove("hidden"),document.getElementById("reset-yes").addEventListener("click",()=>{document.location.href=`/${n}/`})}else"hide"===e&&s.classList.add("hidden")},resetButton=document.getElementById("reset-button");resetButton.addEventListener("click",()=>{const e=document.getElementById("nav").querySelector(".active").getAttribute("data-count");displayResetModal("show","Restart the game?",e)});const resetModalBg=document.getElementById("reset-modal-bg");resetModalBg.addEventListener("click",()=>displayResetModal("hide",null,null));const resetModalClose=document.getElementById("reset-modal-close");resetModalClose.addEventListener("click",()=>displayResetModal("hide",null,null));const resetNo=document.getElementById("reset-no");resetNo.addEventListener("click",()=>displayResetModal("hide",null,null));const Timer=(()=>{let e=0,t=0,n=null;return function(s){const a=()=>{const n=Date.now();e+=n-t,t=n,l()},l=()=>{let t="";const n=Math.floor(e/6e4),a=Math.floor(e/1e3-60*n);t+=n<10?"0"+n:""+n,t+=a<10?":0"+a:":"+a,s.innerText=t};this.start=()=>{if(!n){const l=6e4*parseInt(s.innerText.split(":")[0]),o=1e3*parseInt(s.innerText.split(":")[1]);e=l+o,t=Date.now(),n=setInterval(a,1e3)}},this.stop=()=>{n&&(clearInterval(n),n=null)}}})();